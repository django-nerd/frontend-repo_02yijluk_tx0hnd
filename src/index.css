@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    --font-geist: 'Geist', system-ui, sans-serif;
    --font-geist-mono: 'Geist Mono', monospace;
    --font-mona: 'Mona Sans', system-ui, sans-serif;
    --font-ibm-plex: 'IBM Plex Sans', system-ui, sans-serif;
    --font-manrope: 'Manrope', system-ui, sans-serif;

    /* Light theme tokens */
    --bg: #FCFAFF;           /* soft lavender */
    --surface: #FFFFFF;
    --border: #F1E8FF;       /* light lilac */
    --text: #0F172A;         /* slate-900 */
    --muted: #6B7280;        /* gray-500 */
    --primary: #A78BFA;      /* violet-400 */
    --primaryDark: #8B5CF6;  /* violet-500 */
    --accent: #34D399;       /* emerald-400 */
    --bubblegum: #F472B6;    /* pink-400 */
    --sky: #60A5FA;          /* blue-400 */
    --lemon: #FBBF24;        /* amber-400 */

    --header-glass: rgba(255,255,255,0.7);

    /* Interaction + elevation */
    --ring: color-mix(in oklab, var(--primary) 52%, transparent);
    --ring-offset: color-mix(in oklab, var(--surface) 85%, transparent);
    --shadow-1: 0 1px 0 rgba(17,24,39,0.04);
    --shadow-2: 0 1px 0 rgba(17,24,39,0.04), 0 8px 24px rgba(167,139,250,0.08);
    --shadow-3: 0 1px 0 rgba(17,24,39,0.06), 0 12px 32px rgba(167,139,250,0.12);
  }

  .dark {
    /* Dark theme tokens */
    --bg: #0B1020;           /* deep navy */
    --surface: #0F172A;      /* slate-900 */
    --border: #1F2A44;       /* dark indigo-slate mix */
    --text: #E5E7EB;         /* gray-200 */
    --muted: #9CA3AF;        /* gray-400 */
    --primary: #8B5CF6;      /* keep vibrancy */
    --primaryDark: #7C3AED;  /* slightly deeper */
    --accent: #34D399;
    --bubblegum: #F472B6;
    --sky: #60A5FA;
    --lemon: #FBBF24;

    --header-glass: rgba(2,6,23,0.6); /* near-slate with blur */

    /* Dark-tuned interaction + elevation */
    --ring: color-mix(in oklab, var(--primary) 60%, transparent);
    --ring-offset: color-mix(in oklab, var(--surface) 70%, transparent);
    --shadow-1: 0 1px 0 rgba(0,0,0,0.25);
    --shadow-2: 0 1px 0 rgba(0,0,0,0.25), 0 8px 24px rgba(0,0,0,0.35);
    --shadow-3: 0 1px 0 rgba(0,0,0,0.35), 0 16px 40px rgba(0,0,0,0.45);
  }

  html {
    font-family: var(--font-sans);
    font-feature-settings: "rlig" 1, "calt" 1;
  }

  body {
    @apply antialiased;
    background: var(--bg);
    color: var(--text);
  }

  /* Global link styling */
  a {
    color: var(--primary);
    text-underline-offset: 3px;
    text-decoration-thickness: 1px;
  }
  a:hover { text-decoration: underline; }

  /* Selection + placeholder */
  ::selection {
    background: color-mix(in oklab, var(--primary) 25%, transparent);
    color: var(--text);
  }
  ::-moz-selection {
    background: color-mix(in oklab, var(--primary) 25%, transparent);
    color: var(--text);
  }
  ::placeholder { color: color-mix(in oklab, var(--muted) 85%, transparent); }

  /* Keyboard focus defaults for interactive elements */
  :where(button,[role="button"],a,input,select,textarea):focus {
    outline: none;
  }
  :where(button,[role="button"],a,input,select,textarea):focus-visible {
    outline: none;
    box-shadow: 0 0 0 2px var(--ring), 0 0 0 4px var(--ring-offset);
    border-color: var(--primary);
  }

  /* Scrollbar (WebKit) */
  *::-webkit-scrollbar { width: 10px; height: 10px; }
  *::-webkit-scrollbar-track { background: color-mix(in oklab, var(--bg) 90%, transparent); }
  *::-webkit-scrollbar-thumb {
    background: color-mix(in oklab, var(--border) 50%, var(--surface));
    border: 2px solid color-mix(in oklab, var(--bg) 80%, transparent);
    border-radius: 999px;
  }
  *::-webkit-scrollbar-thumb:hover { background: color-mix(in oklab, var(--primary) 35%, var(--surface)); }

  /* Scrollbar (Firefox) */
  * { scrollbar-color: color-mix(in oklab, var(--border) 70%, var(--surface)) color-mix(in oklab, var(--bg) 92%, transparent); scrollbar-width: thin; }
}

/* Utilities */
@layer utilities {
  .animate-in {
    animation-name: animateIn;
    animation-duration: 350ms;
    --tw-enter-opacity: initial;
    --tw-enter-scale: initial;
    --tw-enter-rotate: initial;
    --tw-enter-translate-x: initial;
    --tw-enter-translate-y: initial;
  }

  .animate-out {
    animation-name: animateOut;
    animation-duration: 350ms;
    --tw-exit-opacity: initial;
    --tw-exit-scale: initial;
    --tw-exit-rotate: initial;
    --tw-exit-translate-x: initial;
    --tw-exit-translate-y: initial;
  }

  /* Elevation helpers */
  .elev-1 { box-shadow: var(--shadow-1); }
  .elev-2 { box-shadow: var(--shadow-2); }
  .elev-3 { box-shadow: var(--shadow-3); }

  /* Subtle hover surfaces */
  .hover-wash-primary:hover { background: rgba(167,139,250,0.10); }
  .hover-wash-bubblegum:hover { background: rgba(244,114,182,0.10); }
  .hover-wash-sky:hover { background: rgba(96,165,250,0.10); }
}
